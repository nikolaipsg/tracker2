
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Training Tracker</title>
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#0ea5e9">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <link rel="apple-touch-icon" href="/icons/icon-512.png"/>
  <style>
    :root{ --tint:#0ea5e9; --bg:#f2f2f7; --card:#ffffff; --label:#111827; --secondary:rgba(60,60,67,0.6); }
    body{margin:0;background:var(--bg);color:var(--label);font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",Roboto,"Helvetica Neue",Arial}
    .player-9x16{position:relative;width:100%;max-width:420px;margin:0 auto;border-radius:12px;overflow:hidden;border:.5px solid #ccc;}
    .player-9x16::before{content:'';display:block;padding-top:177.777%} /* 9:16 */
    .player-9x16>iframe{position:absolute;top:0;left:0;width:100%;height:100%;border:0}
  </style>
  <script defer src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script defer src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script defer src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
  <div id="root"></div>
  <script>
  if('serviceWorker' in navigator){window.addEventListener('load',()=>{navigator.serviceWorker.register('/sw.js');});}
  </script>
  <script type="text/babel" data-presets="env,react">
    const {useState} = React;
    const EMBED = id => `https://www.youtube.com/embed/${id}?autoplay=1&mute=1&playsinline=1&rel=0`;
    const VIDEO={
      "Leg press": EMBED("fpYaVKypytg"),
      "Glute bridge": EMBED("KwHhk-RLiyQ"),
      "Step-ups": EMBED("k8_XGuDcQ2E"),
      "Standing calf raises": EMBED("JTzf4IPR7dw"),
      "Pallof press": EMBED("5aZ0IhJS8O8"),
      "Superman hold": EMBED("VD6ma6oe4ZA"),
      "Chest press": EMBED("_g6bPSKIamY"),
      "Seated row": EMBED("Kh2WA2Y1M0k"),
      "Shoulder press": EMBED("e1scliIVDQo"),
      "Lat pulldown": EMBED("5s6KGLTMgoI"),
      "Dead bug": EMBED("DqLL45uk2Tk"),
      "Side plank": EMBED("BtM0a9x1F5o")
    };

    function InfoPopup({name,onClose}){
      const entry = Object.entries(VIDEO).find(([k])=> name.toLowerCase().includes(k.toLowerCase()));
      const url = entry? entry[1]:null;
      const title = (entry? entry[0]:name)+' Guide';
      return <div style={{position:'fixed',inset:0,background:'rgba(0,0,0,.6)',display:'flex',alignItems:'center',justifyContent:'center',zIndex:9999}}>
        <div style={{background:'#fff',borderRadius:12,padding:16,width:'100%',maxWidth:420}}>
          <div style={{display:'flex',justifyContent:'space-between',alignItems:'center'}}>
            <strong>{title}</strong>
            <button onClick={onClose}>Done</button>
          </div>
          <div className="player-9x16" style={{marginTop:12}}>
            <iframe src={url||''} allow="autoplay; encrypted-media; fullscreen" allowFullScreen title={title}></iframe>
          </div>
        </div>
      </div>;
    }

    function App(){
      const [info,setInfo] = useState(null);
      return <div style={{padding:20}}>
        <h1>Training Tracker Demo</h1>
        {Object.keys(VIDEO).map(ex=>(<div key={ex}><button onClick={()=>setInfo(ex)}>Guide for {ex}</button></div>))}
        {info && <InfoPopup name={info} onClose={()=>setInfo(null)}/>}
      </div>;
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App/>);
  </script>
</body>
</html>
